<!DOCTYPE html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8" />
    <title>Hugo Server: Error</title>
    <style type="text/css">
      body {
        font-family: "Muli", avenir, -apple-system, BlinkMacSystemFont,
          "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji",
          "Segoe UI Emoji", "Segoe UI Symbol";
        font-size: 14px;
        color: #e6db74;
        background-color: #272822;
      }
      main {
        max-width: 100ch;
        padding: 2ch;
        margin: auto;
      }
      .version {
        margin-top: 3rem;
        color: #ccc;
        padding: 1rem 0;
      }

      pre,
      code {
        white-space: pre-wrap;
        white-space: -moz-pre-wrap;
        white-space: -pre-wrap;
        white-space: -o-pre-wrap;
        word-wrap: break-word;
      }
      .highlight {
        overflow-x: auto;
        margin-bottom: 1rem;
      }
      a {
        color: #0594cb;
        text-decoration: none;
      }
      a:hover {
        color: #ccc;
      }
    </style>
  </head>
  <body>
    <main>
      {{ $codeStyle := "monokai" }}
      {{ highlight .Error "bash" (printf "linenos=false,noclasses=true,style=%s" $codeStyle ) }}
      {{ range $i, $e := .Files }}
        {{ if not .ErrorContext }}
          {{ continue }}
        {{ end }}
        {{ $params := printf "noclasses=true,style=%s,linenos=table,hl_lines=%d,linenostart=%d" $codeStyle (add .ErrorContext.LinesPos 1) (sub .Position.LineNumber .ErrorContext.LinesPos) }}
        {{ $lexer := .ErrorContext.ChromaLexer | default "go-html-template" }}
        {{ with .Position }}
          <code
            >{{ printf "%s:%d:%d" .Filename .LineNumber .ColumnNumber }}:</code
          >
        {{ end }}

        {{ highlight (delimit .ErrorContext.Lines "\n") $lexer $params }}
      {{ end }}
      <p class="version">{{ .Version }}</p>
      <a href="">Reload Page</a>
    </main>
  </body>
</html>
